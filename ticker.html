<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Ticker Study</title>
    <style type="text/css">
      body{
        background: #FFFAFA;
        font-family: Helvetica, Verdana, sans-serif;
        font-size: 72pt;
        font-weight: bold;
      }
      .ticker{
        margin-bottom: -100px;
        width: 200px;
        color: #696969;
        text-align: right;
        border-top: 1px solid #000;
      }
      .figure{
        position: relative;
        top: -110px;
      }
      .shadow{
        color: #DCDCDC;
        z-index: 5
      }
    </style>
  </head>
  <body>
    <div id="container">
      <header>
      </header>
      <div id="main">
        <div id="tick-1" class="ticker">
          <div class="shadow">1</div>
          <div class="figure">1</div>
        </div>
        <div id="tick-2" class="ticker">
          <div class="shadow">2</div>
          <div class="figure">2</div>
        </div>
        <div id="tick-3" class="ticker">
          <div class="shadow">3</div>
          <div class="figure">3</div>
        </div>
      </div>
      <footer>
      </footer>
    </div>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.js"></script>
    <script type="text/javascript">
      var setTicker = function( id, newVal ) {
        var lag = 100
        var $fig = $(id + ' .figure')
        var $sha = $(id + ' .shadow')
        var currentVal = parseInt( $fig.html(), 10)
        if (newVal !== undefined) {
          $fig.html( newVal )
          setTimeout( function() {
            $sha.html( newVal )
          }, lag)
        } else {
          if ( currentVal!== NaN ) {
            $fig.html( currentVal+1 )
            setTimeout( function() {
              $sha.html( currentVal+1 )
            }, lag)
          } else {
            return undefined
          }
        }
      }

      $(document).ready( function() {
        setInterval( function() {
          setTicker('#tick-1', Math.floor( Math.random()* 10 ) )
          setTicker('#tick-2', Math.floor( Math.random()* 10 ) )
          setTicker('#tick-3', Math.floor( Math.random()* 10 ) )
        }, 300)
      })

    </script>
  </body>
</html>
